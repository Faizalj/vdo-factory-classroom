# ЁЯОд Kokoro Voice Troubleshooting Guide

## ЁЯЪи р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в

### р╕Ыр╕▒р╕Нр╕лр╕▓: р╣Ар╕кр╕╡р╕вр╕Зр╕нр╕╖р╣Ир╕Щр╕Щр╕нр╕Бр╕Ир╕▓р╕Б `af_heart` р╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ

**р╕нр╕▓р╕Бр╕▓р╕г**: р╕Щр╕▒р╕Бр╣Ар╕гр╕╡р╕вр╕Щр╕ер╕нр╕Зр╣Гр╕Кр╣Йр╣Ар╕кр╕╡р╕вр╕Зр╕нр╕╖р╣Ир╕Щ р╣Бр╕Хр╣Ир╣Др╕Фр╣Йр╣Ар╕Йр╕Юр╕▓р╕░ `af_heart` р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ

## тЬЕ р╣Ар╕кр╕╡р╕вр╕Зр╕Чр╕╡р╣Ир╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Бр╕ер╣Йр╕зр╕зр╣Ир╕▓р╣Гр╕Кр╣Йр╣Др╕Фр╣Й

- **`af_heart`** - р╣Ар╕кр╕╡р╕вр╕Зр╕лр╕Нр╕┤р╕Зр╕нр╕Ър╕нр╕╕р╣Ир╕Щ тЬЕ

## тЪая╕П р╣Ар╕кр╕╡р╕вр╕Зр╕Чр╕╡р╣Ир╕нр╕▓р╕Ир╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓

- `af_neutral` - р╣Ар╕кр╕╡р╕вр╕Зр╕лр╕Нр╕┤р╕Зр╣Ар╕Ыр╣Зр╕Щр╕Бр╕ер╕▓р╕З
- `af_sarah` - р╣Ар╕кр╕╡р╕вр╕Зр╕лр╕Нр╕┤р╕Зр╕Кр╕▒р╕Фр╣Ар╕Ир╕Щ  
- `am_casual` - р╣Ар╕кр╕╡р╕вр╕Зр╕Кр╕▓р╕вр╕кр╕Ър╕▓р╕в р╣Ж
- `am_formal` - р╣Ар╕кр╕╡р╕вр╕Зр╕Кр╕▓р╕вр╣Ар╕Ыр╣Зр╕Щр╕Чр╕▓р╕Зр╕Бр╕▓р╕г
- `am_david` - р╣Ар╕кр╕╡р╕вр╕Зр╕Кр╕▓р╕вр╕бр╕╡р╕Юр╕ер╕▒р╕З

## ЁЯФН р╕кр╕▓р╣Ар╕лр╕Хр╕╕р╕Чр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щр╣Др╕Ыр╣Др╕Фр╣Й

### 1. Voice Models р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Др╕гр╕Ъ
Backend р╕нр╕▓р╕Ир╕бр╕╡ voice models р╣Ар╕Йр╕Юр╕▓р╕░ `af_heart` р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ

### 2. р╕Кр╕╖р╣Ир╕нр╣Ар╕кр╕╡р╕вр╕Зр╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
р╕Хр╣Йр╕нр╕Зр╣Гр╕Кр╣Йр╕Кр╕╖р╣Ир╕нр╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Хр╕гр╕Зр╕Хр╕▒р╕з:
```javascript
// тЬЕ р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
"kokoro_voice": "af_heart"

// тЭМ р╕Ьр╕┤р╕Ф
"kokoro_voice": "af_Heart"  // р╕Хр╕▒р╕зр╣Гр╕лр╕Нр╣Ир╕Ьр╕┤р╕Ф
"kokoro_voice": "af heart"  // р╕бр╕╡р╕Кр╣Ир╕нр╕Зр╕зр╣Ир╕▓р╕З
"kokoro_voice": "female"    // р╕Кр╕╖р╣Ир╕нр╣Др╕бр╣Ир╕Цр╕╣р╕Б
```

### 3. Backend Configuration р╣Др╕бр╣Ир╕Др╕гр╕Ъ
Voice Factory р╕нр╕▓р╕Ир╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Ар╕Йр╕Юр╕▓р╕░р╕Ър╕▓р╕Зр╣Ар╕кр╕╡р╕вр╕З

## ЁЯзк р╕зр╕┤р╕Шр╕╡р╕Чр╕Фр╕кр╕нр╕Ър╣Ар╕кр╕╡р╕вр╕Зр╕нр╕╖р╣Ир╕Щ р╣Ж

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕Чр╕Фр╕кр╕нр╕Ър╕Чр╕╡р╕ер╕░р╣Ар╕кр╕╡р╕вр╕З
```javascript
// р╣Гр╕Щ Configure me node
{
  "tts_engine": "kokoro",
  "kokoro_voice": "af_neutral",  // р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Чр╕╡р╕ер╕░р╣Ар╕кр╕╡р╕вр╕З
  "kokoro_speed": 1.0
}
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╣Гр╕Кр╣Йр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕кр╕▒р╣Йр╕Щ р╣Ж
р╕Чр╕Фр╕кр╕нр╕Ър╕Фр╣Йр╕зр╕вр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕кр╕▒р╣Йр╕Щ р╣Ар╕Кр╣Ир╕Щ "Hello, this is a test."

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 3: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Error Messages
р╕Фр╕╣ error р╣Гр╕Щ n8n execution log р╣Ар╕бр╕╖р╣Ир╕нр╣Гр╕Кр╣Йр╣Ар╕кр╕╡р╕вр╕Зр╕нр╕╖р╣Ир╕Щ

## ЁЯТб р╕Др╕│р╣Бр╕Щр╕░р╕Щр╕│р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Щр╕▒р╕Бр╣Ар╕гр╕╡р╕вр╕Щ

### р╣Бр╕Щр╕░р╕Щр╕│р╕гр╕░р╕вр╕░р╕кр╕▒р╣Йр╕Щ
**р╣Гр╕Кр╣Й `af_heart` р╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▒р╕Б** р╣Ар╕Юр╕гр╕▓р╕░р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Бр╕ер╣Йр╕зр╕зр╣Ир╕▓р╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╣Бр╕ер╕░р╕бр╕╡р╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕Фр╕╡

### р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З af_heart
```javascript
{
  "tts_engine": "kokoro",
  "kokoro_voice": "af_heart",
  "kokoro_speed": 0.9  // р╕Кр╣Йр╕▓р╕ер╕З р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕кр╕Зр╕Ъ
}
```

```javascript
{
  "tts_engine": "kokoro", 
  "kokoro_voice": "af_heart",
  "kokoro_speed": 1.2  // р╣Ар╕гр╣Зр╕зр╕Вр╕╢р╣Йр╕Щ р╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕Чр╕╡р╣Ир╕бр╕╡р╕Юр╕ер╕▒р╕З
}
```

## ЁЯФз р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╕Фр╕╣р╣Бр╕ер╕гр╕░р╕Ър╕Ъ

### р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Voice Models
```bash
# р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╣Гр╕Щ Video Factory container
docker exec -it vdo-factory bash

# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Др╕Яр╕ер╣М voice models
ls -la /app/models/kokoro/
```

### р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Configuration
```bash
# р╕Фр╕╣ configuration р╕Вр╕нр╕З TTS
cat /app/config/tts_config.json
```

### р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Logs
```bash
# р╕Фр╕╣ logs р╣Ар╕бр╕╖р╣Ир╕нр╣Гр╕Кр╣Йр╣Ар╕кр╕╡р╕вр╕Зр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕Чр╕│р╕Зр╕▓р╕Щ
docker logs vdo-factory | grep -i "voice\|tts\|kokoro"
```

## ЁЯУЛ Checklist р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╕Ыр╕▒р╕Нр╕лр╕▓

- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Кр╕╖р╣Ир╕нр╣Ар╕кр╕╡р╕вр╕Зр╕зр╣Ир╕▓р╕кр╕░р╕Бр╕Фр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З
- [ ] р╕ер╕нр╕Зр╣Гр╕Кр╣Й `af_heart` р╕Бр╣Ир╕нр╕Щр╣Ар╕Ыр╣Зр╕Щ baseline
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ error messages р╣Гр╕Щ n8n
- [ ] р╕Чр╕Фр╕кр╕нр╕Ър╕Фр╣Йр╕зр╕вр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕кр╕▒р╣Йр╕Щ р╣Ж
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Voice Factory logs
- [ ] р╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Ьр╕╣р╣Йр╕Фр╕╣р╣Бр╕ер╕гр╕░р╕Ър╕Ър╕лр╕▓р╕Бр╕Ир╕│р╣Ар╕Ыр╣Зр╕Щ

## ЁЯОп р╕кр╕гр╕╕р╕Ы

**р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕нр╕Щр╕Щр╕╡р╣Й**: р╣Гр╕лр╣Йр╕Щр╕▒р╕Бр╣Ар╕гр╕╡р╕вр╕Щр╣Гр╕Кр╣Й `af_heart` р╣Ар╕Ыр╣Зр╕Щр╕лр╕ер╕▒р╕Б р╣Ар╕Юр╕гр╕▓р╕░р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Бр╕ер╣Йр╕зр╕зр╣Ир╕▓р╣Гр╕Кр╣Йр╣Др╕Фр╣Й

**р╕кр╕│р╕лр╕гр╕▒р╕Ър╕нр╕Щр╕▓р╕Др╕Х**: р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╣Бр╕ер╕░р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З voice models р╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕бр╣Гр╕Щ backend

р╕Бр╕▓р╕гр╕бр╕╡ voice р╕лр╕ер╕▓р╕Бр╕лр╕ер╕▓р╕вр╕Ир╕░р╕Кр╣Ир╕зр╕вр╣Гр╕лр╣Йр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕Щр╕╖р╣Йр╕нр╕лр╕▓р╕Чр╕╡р╣Ир╕Щр╣Ир╕▓р╕кр╕Щр╣Гр╕Ир╕бр╕▓р╕Бр╕Вр╕╢р╣Йр╕Щ р╣Бр╕Хр╣И `af_heart` р╕Бр╣Зр╣Ар╕Юр╕╡р╕вр╕Зр╕Юр╕нр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Щр╕гр╕╣р╣Йр╣Бр╕ер╕░р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕нр╕Щр╣Ар╕Чр╕Щр╕Хр╣Мр╕Др╕╕р╕Ур╕ар╕▓р╕Юр╣Др╕Фр╣Й! ЁЯОм